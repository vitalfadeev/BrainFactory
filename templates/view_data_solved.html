{% load static %}

{% block extracss %}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.18/datatables.min.css"/>
{% endblock extracss %}

{% block extrajs %}
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.18/datatables.min.js"></script>
{% endblock extrajs %}


{% block content %}

<div class="">
    <div class="">
        {% if is_data_solved %}
        <table class="" id="data-solved-table">
            <thead>
            <tr id="row-titles">
                {% for t in titles_solved %}
                <th>{{ t }}</th>
                {% endfor %}
            </tr>

            <tr id="row-types">
                {% for f in types_solved %}
                <td>{{ f }}</td>
                {% endfor %}
            </tr>

            </thead>

            <tbody>
            </tbody>
        </table>

        <div class="">
            <a href="{% url "view_export_solved_csv" batch.Batch_Id %}" class="">Download File data in CSV/XLS</a>
        </div>

        {% else %}

        <div class="center-align">
            <br>
            No data
        </div>

        {% endif %}

    </div>
</div>

{% if is_data_solved %}
<script type="text/javascript" language="javascript" class="init">
// table
$(document).ready(function() {
    var USERS_LIST_JSON_URL = '{% url "view/id/solved/ajax"  batch.Batch_Id %}';
    // translations for datatables
    var oLanguages = {
        oPaginate:{
            sFirst:'<<',
            sLast: '>>',
            sNext: '>',
            sPrevious: '<'
        },
        sInfo:          "Showing _START_ to _END_ of _TOTAL_ entries",
        sInfoEmpty:     "No entries to show",
        sInfoFiltered:  "(filtered from _MAX_ total entries)",
        sLengthMenu:    "Show _MENU_ entries",
        sProcessing:    "Processing",
        sSearch:        "Filter records:",
        sZeroRecords:   "No data to show"
    };

    var dt_table = $('#data-solved-table').dataTable({
        "pageLength": 25,
        "iDisplayLength" : 25,
        "lengthChange": false,
        "searching": false,
        "oLanguage": oLanguages,
        "info" : false,
        "bInfo" : false,
        "ordering": false,
        "bFilter": true,
        "aLengthMenu": [[25, 50, 100, 200], [25, 50, 100, 200]],
        //"aaSorting": [[ 0, "desc" ]],
        "bAutoWidth": true,
        "bProcessing": true,
        "bServerSide": true,
        "bStateSave": true,
        "sAjaxSource": USERS_LIST_JSON_URL
    });

    //dt_table.page.len( 25 ).draw();

});
</script>
{% endif %}

{% endblock %}

